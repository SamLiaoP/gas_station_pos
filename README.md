# GAS_STATION_POS_v2 系統

這是加油站POS系統的簡化版本，專注於更有效率的資料管理和雲端整合準備。

## 系統特點

- 簡化的資料結構：從多個資料夾和文件簡化為少數幾個核心Excel檔案
- 整合的交易記錄：所有交易（進貨、銷售、退貨）統一管理在一個Excel檔案中
- 雲端整合準備：設計為可以輕鬆與雲端硬碟整合
- 保留原有功能：維持與原系統相同的業務功能

## 資料結構

系統使用以下Excel檔案儲存資料：

1. `master_data.xlsx` - 包含多個工作表，儲存系統配置和員工廠商資訊
   - 系統配置：儲存系統設定，如班別時間
   - 員工廠商：儲存員工和廠商資訊，包含分潤比例

2. `inventory.xlsx` - 儲存所有產品的庫存資訊

3. `transactions.xlsx` - 儲存所有交易記錄，包括銷售、進貨和退貨

## 雲端整合

系統已準備好與雲端硬碟整合。`cloud_helper.py` 檔案包含將來與雲端整合所需的函數，可以輕鬆改寫為實際的雲端API調用。

使用雲端整合時的步驟：

1. 修改 `cloud_helper.py` 中的讀寫函數，使用實際的雲端API
2. 在 `models/data_manager.py` 中導入雲端助手，替換現有的檔案讀寫函數

## 安裝和使用

1. 確保安裝了 Python 3.7 或更高版本
2. 安裝所需的套件：`pip install -r requirements.txt`
3. 執行系統：`python run.py`
4. 在瀏覽器中訪問：`http://127.0.0.1:8080/`

## 功能列表

- 進貨管理：記錄從廠商的進貨
- 銷售管理：記錄銷售給客戶的商品
- 退貨管理：處理退回給廠商的商品
- 庫存管理：跟踪所有產品的庫存水平
- 報表生成：生成各種業務報表，包括廠商分潤、員工分潤等
- 班別銷售：查看特定班別的銷售記錄

## 系統架構

- `app.py` - 主應用程式入口
- `run.py` - 啟動應用程式的腳本
- `models/` - 資料模型和業務邏輯
- `routes/` - 網頁路由和控制器
- `utils/` - 公用功能和輔助函數
- `templates/` - HTML模板
- `static/` - 靜態文件（CSS、JavaScript等）
- `data/` - 資料存儲目錄
- `reports/` - 報表輸出目錄
- `cloud_helper.py` - 雲端整合助手

## 未來發展

1. 完整的雲端整合，使資料能夠實時同步到雲端儲存
2. 多使用者支援，允許多個使用者同時存取系統
3. 行動裝置應用程式，方便在移動設備上使用
4. 更豐富的報表功能，提供更多分析工具
5. 自動備份與復原功能

## 從 v1 遷移到 v2

如果您正在使用舊版的 GAS_STATION_POS 系統，可以按照以下步驟遷移到新版：

1. 安裝新版系統
2. 運行 `python migrate_data.py`（待開發）將舊系統資料轉換為新格式
3. 驗證資料遷移是否成功
4. 開始使用新系統

## 系統對比

| 功能 | GAS_STATION_POS (舊版) | GAS_STATION_POS_v2 (新版) |
|------|----------------------|------------------------|
| 資料儲存 | 多個目錄與檔案 | 簡化為3個核心Excel檔案 |
| 交易記錄 | 分散在不同檔案 | 統一在單一transactions檔案 |
| 資料架構 | 日期為主的目錄結構 | 功能為主的檔案結構 |
| 報表生成 | 支援 | 支援且更高效 |
| 雲端整合 | 不支援 | 已準備好雲端整合架構 |
| 資料備份 | 手動封存 | 可整合雲端自動備份 |

## 授權

Copyright © 2025. 保留所有權利。
